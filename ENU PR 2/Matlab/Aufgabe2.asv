%% SNR-Berechnung am rauschbehafteten Ãœbertragungskanal
% Laden der Messdaten
% B...Originalsignals
% A...Empfangssignals
load('Signale6.mat');

%% Berechnung des Korrekturfaktors
alpha = mean(B)/mean(A);

%% Korrektur der KanaldÃ¤mpfung
A = alpha * A;
%
% ZU VERVOLLSTÃ„NDIGEN
%

%% Berechnung des Differenzsignals
% R...Rauschsignal

R = B - A;


%% Messung des Rauschens

%snr0 = SNR(A,R);

t=linspace(1,1,length(A));
figure(2);
plot(R)


%% 100000-facher Wurf mit einem WÃ¼rfel
x=R
% x ist ein Vektor der Dimension 100000x1.
% Jedes Element von x steht fÃ¼r das Ergebis eines WÃ¼rfelwurfs.

%% Berechnung des Histogramms 
[H,bins] = hist(x,100);
% bins ... Mittelwert des jeweiligen Bins
% H ... Anzahl der Treffer je Bin
holdon
plot;
plot;
holdoff;
%% Bestimmung der Verteilungsdichtefunktion (pdf) aus dem Histogramm

%
% ZU VERVOLLSTÃ„NDIGEN
% 

%% Darstellung der pdf
figure(1);
title('pdf des Würfelexperiments')
xlabel('Augenzahl')
bar(bins,H/length(A));

T=SNR(A,R);

figure(3)
x=R(1);
m=mean(H); % = sum(R)/length(R)
v=var(H); %  = ((sum(R-m))^2)/length(R)
gauss=((1)/(sqrt(2*pi)*v))*e^(-((x-m)^2)/(2*(v)^2));
plot(x, gauss)
j= sum(H)/length(H);
